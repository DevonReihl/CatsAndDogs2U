{"version":3,"sources":["components/LandingPage.js","config.js","PetService.js","components/AdoptionPage.js","root/Root.js","index.js"],"names":["LandingPage","className","to","React","Component","ApiService","getPets","fetch","config","then","res","ok","json","e","Promise","reject","getPeople","addPerson","name","method","headers","body","JSON","stringify","removePersonAndPet","type","animalToRemove","AdoptionPage","state","cat","dog","people","adopter","adopted","loading","renderPeople","length","map","person","index","key","addPeopleToQueue","handleChange","setState","target","value","handleAddToQueue","preventDefault","PetService","timeout","setInterval","Math","floor","random","catch","error","console","handleAdoption","this","pets","addNewPeopleTimer","setTimeout","clearTimeout","randomPeople","randomPerson","clearInterval","onSubmit","htmlFor","id","onChange","required","adoptedRender","src","imageURL","alt","age","breed","description","story","onClick","Root","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e5285fbf.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport default class LandingPage extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className='pet-image'>\r\n        <div className='petful-title'>\r\n          <h1>Petful</h1>\r\n          <p>We are a shelter for dogs and cats that need a forever home with lots of love. Our shelter space is very small so we only have 2 animals \r\n            available at a time. If you join the process you will be added to the waitlist. When your name comes up you can adopt a cat, or a dog </p>\r\n          <Link to ='/adopt'>Start Process</Link>\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}","export default {\r\n  API_ENDPOINT:  `https://limitless-waters-65412.herokuapp.com`\r\n}\r\n\r\n\r\n","import config from './config'\r\n\r\nconst ApiService = {\r\n  getPets() {\r\n    return fetch(`${config.API_ENDPOINT}/pets`)\r\n      .then(res => \r\n        (!res.ok)\r\n          ? res.json().then(e => Promise.reject(e))\r\n          : res.json()\r\n        )\r\n\r\n  },\r\n  getPeople() {\r\n    return fetch(`${config.API_ENDPOINT}/people`)\r\n    .then(res => \r\n      (!res.ok)\r\n        ? res.json().then(e => Promise.reject(e))\r\n        : res.json()\r\n      )\r\n  },\r\n\r\n  addPerson(name) {\r\n    return fetch(`${config.API_ENDPOINT}/people`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'content-type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ name,}),\r\n    })\r\n      .then(res =>\r\n          (!res.ok) \r\n              ? res.json().then((e) => Promise.reject(e)) \r\n              : name\r\n      )\r\n  },\r\n  //refactor to do cat or dog??\r\n  removePersonAndPet(type) {\r\n    const animalToRemove = {\r\n      type: `${type}`\r\n    }\r\n    return fetch(`${config.API_ENDPOINT}/pets`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify(animalToRemove)\r\n    })\r\n    \r\n\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default ApiService","import React from 'react'\r\nimport PetService from '../PetService'\r\n\r\n\r\n\r\nexport default class AdoptionPage extends React.Component {\r\n  state = {\r\n    cat: {},\r\n    dog: {},\r\n    people: [],\r\n    name: '',\r\n    adopter: '',\r\n    adopted: false,\r\n    loading: false,\r\n    \r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true })\r\n\r\n    PetService.getPets()\r\n      .then(\r\n        pets => {\r\n          this.setState({\r\n            cat: pets.cat,\r\n            dog: pets.dog\r\n          })\r\n        }\r\n      )\r\n      .catch(error => {\r\n        console.error({ error })\r\n      })\r\n    PetService.getPeople()\r\n      .then(\r\n        people => {\r\n          this.setState({\r\n            people, loading: false\r\n          })\r\n        }\r\n\r\n      )\r\n      .catch(error => {\r\n        console.error({ error })\r\n      })\r\n  }\r\n\r\n  // handleCatClick(cat) {\r\n  //   const removeCat = {\r\n  //      type: \"cats\"\r\n  //   }\r\n  //   fetch(`${config.API_ENDPOINT}/pets`, {\r\n  //     method: 'DELETE',\r\n  //     headers: {\r\n  //       'content-type': 'application/json'\r\n  //     },\r\n  //     body: JSON.stringify(removeCat)\r\n  //   })\r\n  //   .then(res => {\r\n  //     if(!res.ok)\r\n  //     return res.json().then(e => Promise.reject(e))\r\n  //   })\r\n  //   .then(() => {\r\n  //     return this.componentDidMount()\r\n      \r\n  //   })\r\n  //   .catch(error => {\r\n  //     console.error({ error })\r\n  //   })\r\n  // }\r\n\r\n  // handleDogClick(dog) {\r\n  //   const removeDog = {\r\n  //     type: \"dogs\"\r\n  //  }\r\n  //  fetch(`${config.API_ENDPOINT}/pets`, {\r\n  //    method: 'DELETE',\r\n  //    headers: {\r\n  //      'content-type': 'application/json'\r\n  //    },\r\n  //    body: JSON.stringify(removeDog)\r\n  //  })\r\n  //  .then(res => {\r\n  //    if(!res.ok)\r\n  //    return res.json().then(e => Promise.reject(e))\r\n  //  })\r\n  //  .then(() => {\r\n  //    return this.componentDidMount()\r\n     \r\n  //  })\r\n  //  .catch(error => {\r\n  //   console.error({ error })\r\n  // })\r\n  // }\r\n\r\n  renderPeople =() => {\r\n    let people = this.state.people\r\n\r\n    if( people.length > 1) {\r\n      return people.map((person, index) => (\r\n      <li key={index}>{person}</li>\r\n      ))\r\n    }\r\n    \r\n    if(this.state.people.length ===1) {\r\n      this.addPeopleToQueue()\r\n    }\r\n    \r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value })\r\n  }\r\n\r\n  handleAddToQueue = (e) => {\r\n    e.preventDefault();\r\n    PetService.addPerson(this.state.name).then((res) => {\r\n      this.setState({\r\n        people: [...this.state.people, res],\r\n        adopter: res,\r\n        name: '',\r\n      })\r\n    })\r\n    \r\n\r\n    this.timeout = setInterval(() => {\r\n      let dogOrCat = Math.floor(Math.random()* 2)\r\n      let type= ''\r\n      if (dogOrCat ===0) {\r\n        type = 'dogs'\r\n      }else {\r\n        type = 'cats'\r\n      }\r\n\r\n      PetService.removePersonAndPet(type)\r\n      .then((res) => {\r\n        PetService.getPets()\r\n        .then((res) => {\r\n          this.setState({\r\n            dog: res.dog,\r\n            cat: res.cat,\r\n          })\r\n        })\r\n        .catch(error => {\r\n          console.error({ error })\r\n        })\r\n        PetService.getPeople()\r\n        .then((res) => {\r\n          this.setState({\r\n            people: res\r\n          })\r\n        })\r\n        .catch(error => {\r\n          console.error({ error })\r\n        })\r\n      })\r\n    }, 5000)\r\n  }\r\n\r\n  addPeopleToQueue() {\r\n    let addNewPeopleTimer = setTimeout(() => {\r\n      if (this.state.people === 5) {\r\n        clearTimeout(addNewPeopleTimer)\r\n      }\r\n\r\n      const randomPeople = [\r\n        'Dean',\r\n        'Charlie',\r\n        'Cass',\r\n        'Sam',\r\n        'Crowley',\r\n        'Ruby',\r\n        'Jo',\r\n        'Ellen',\r\n        'Gabriel',\r\n        'Jack',\r\n        'Lucifer'\r\n      ]\r\n\r\n      const randomPerson = \r\n        randomPeople[Math.floor(Math.random() * randomPeople.length)]\r\n\r\n        if (this.state.people.length < 5) {\r\n          PetService.addPerson(randomPerson)\r\n          .then((res) => {\r\n            this.setState({\r\n              people: [...this.state.people, res]\r\n            })\r\n          })\r\n          .catch(error => {\r\n            console.error({ error })\r\n          })\r\n        }\r\n    }, 5000)\r\n  }\r\n\r\n  handleAdoption = (type) => {\r\n    PetService.removePersonAndPet(type)\r\n      .then((res) => {\r\n        this.setState({adopted: true})\r\n        PetService.getPets()\r\n        .then((res) => {\r\n          this.setState({\r\n            dog: res.dog,\r\n            cat: res.cat,\r\n          })\r\n        })\r\n        .catch(error => {\r\n          console.error({ error })\r\n        })\r\n        PetService.getPeople()\r\n        .then((res) => {\r\n          this.setState({\r\n            people: res\r\n          })\r\n        })\r\n        .catch(error => {\r\n          console.error({ error })\r\n        })\r\n      })\r\n  }\r\n\r\n  adoptedRender() {\r\n      return (\r\n        <h2>Congrats you just adopted your very own pet!</h2>\r\n        )\r\n  }\r\n\r\n\r\n  render() {\r\n    const { cat, dog, people, adopter, loading } = this.state\r\n\r\n    if ((dog.length === 0 || cat.length === 0) && !loading) {\r\n      return <div> All pets have found a home!!! Please try again another day</div>\r\n    } else if( adopter === people[0]) {\r\n      this.addPeopleToQueue();\r\n      clearInterval(this.timeout);\r\n    }\r\n     else if ( people.length > 5) {\r\n      clearInterval(this.addNewPeopleTimer)\r\n    }\r\n    \r\n    return (\r\n        \r\n      <>\r\n        {this.state.loading ? (\r\n          <p>Loading!!!</p>\r\n        ): (\r\n        <div>\r\n          <h1>Petful</h1>\r\n          <h3>Take me to my \"Furever\" home!</h3>\r\n          <ul>\r\n            <li><h4>Next in line is: </h4></li>\r\n            {this.renderPeople()}\r\n          </ul>\r\n          <form\r\n                className=\"add-to-list\"\r\n                onSubmit={(e) => this.handleAddToQueue(e)}\r\n              >\r\n                <label htmlFor=\"name\">Enter your name to get in line!</label>\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  id=\"name-input\"\r\n                  onChange={this.handleChange}\r\n                  value={this.state.name}\r\n                  required\r\n                ></input>\r\n                <br />\r\n                <button className=\"button\" type=\"submit\">\r\n                  Ready to Adopt?\r\n                </button>\r\n              </form>\r\n\r\n              {this.state.adopted ? (<div>{this.adoptedRender()}<br /></div>): (<div></div>)}\r\n          <section className=\"animal\">\r\n            \r\n            <header>\r\n              <h2 className=\"animal-name\">\r\n                {cat.name}\r\n              </h2>\r\n              <img src={cat.imageURL} alt='' />  \r\n            </header>\r\n            <main>\r\n              <h3>More about {cat.name}</h3> \r\n              <ul className=\"animal-attributes\"> \r\n                <li className=\"pet-age\">Age: {cat.age}</li>  \r\n                <li className=\"pet-breed\">Breed: {cat.breed}</li> \r\n                <li className=\"pet-descrip\">Desc: {cat.description}</li>\r\n                <li className=\"pet-story\">Story: {cat.story}</li>  \r\n              </ul>\r\n              {this.state.adopter === this.state.people[0] && (\r\n                  <button\r\n                    className=\"button\"\r\n                    type=\"button\"\r\n                    onClick={(e) => this.handleAdoption('cats')}\r\n                  >\r\n                    Adopt Me!\r\n                  </button>\r\n                )}\r\n            </main>\r\n          </section>\r\n          <section className=\"animal\">\r\n            <header>\r\n              <h2 className=\"animal-name\">\r\n                {dog.name}\r\n              </h2>\r\n              <img src={dog.imageURL} alt='' />\r\n            </header>\r\n            <main>\r\n              <h3>More about {dog.name}</h3> \r\n              <ul className=\"animal-attributes\">\r\n                <li className=\"pet-age\">Age: {dog.age} years</li>  \r\n                <li className=\"pet-breed\">Breed: {dog.breed}</li> \r\n                <li className=\"pet-descrip\">Desc: {dog.description}</li>\r\n                <li className=\"pet-story\">Story: {dog.story}</li>  \r\n              </ul>\r\n              {this.state.adopter === this.state.people[0] && (\r\n                  <button\r\n                    className=\"button\"\r\n                    type=\"button\"\r\n                    onClick={(e) => this.handleAdoption('dogs')}\r\n                  >\r\n                    Adopt Me!\r\n                  </button>\r\n                )}\r\n            </main>\r\n          </section>\r\n        </div>\r\n        )}\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Route, BrowserRouter as Router } from 'react-router-dom'\r\nimport LandingPage from '../components/LandingPage'\r\nimport AdoptionPage from '../components/AdoptionPage'\r\n\r\n\r\n\r\nclass Root extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <main>\r\n          <Router>\r\n            <Route exact path={'/'} component={LandingPage} />\r\n            <Route path={'/adopt'} component={AdoptionPage} />\r\n          </Router>\r\n        </main>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default Root\r\n","import './index.css'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Root from './root/Root'\r\n\r\nReactDOM.render(<Root />, document.getElementById('root'))\r\n"],"sourceRoot":""}